{"version":3,"sources":["webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.html","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar-routing.module.ts","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.module.ts","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.scss","webpack:///src/app/pages/prestador/prestador-consultar/prestador-consultar.page.ts","webpack:///src/app/providers/favorito/favorito.service.ts","webpack:///src/app/repository/favorito/favorito-rep.service.ts"],"names":["routes","path","component","PrestadorConsultarPageRoutingModule","imports","forChild","exports","PrestadorConsultarPageModule","declarations","PrestadorConsultarPage","prestadorService","toastCtrl","igrejaService","usuarioService","loadingContr","dominioServicoService","router","modalCtrl","callNumber","favoritoService","validation_messages","type","message","formulario","compose","required","prestadores","showLoader","recuperaDominioServico","then","result","servicos","hideLoader","x","handler","RecuperaUfPrestadorDisponiveis","UfList","map","ListagemUF","RecuperaObjetoPorUF","uf","controls","setValue","cidadeList","RecuperaCidadePrestadorDisponiveis","formularioValido","CustomToast","Mensagens","CamposObrigatorios","RecuperaPestadoresPesquisar","value","igrejaId","prestadoresResult","length","lstusuarioId","usuarioId","lstIgrejaId","consultaMasterPrestador","Promise","reject","recuperaNomeIgreja","err","recuperaNomePrestadores","recuperaServicosPorPrestadores","servicosPorPrestador","find","y","RecuperaNomeUsuarios","usuariosResult","nome","data","email","ionContent","scrollToPoint","RecuperaNomeIgreja","resultIgreja","nomeIgreja","id","modal","create","componentProps","backdropDismiss","present","onWillDismiss","resultModal","nomeServico","servicoId","UFs","sigla","buscarCidades","cidades","cidade","bairro","telefone","AdicionaPrestadorFavorito","RecuperaInstancia","recuperaUsuario","RemovePrestadorFavorito","selector","template","FavoritoService","favoritoRepService","prestadorUsuarioId","providedIn","FavoritoRepService","ref","db","collection","doc","obj","retorno","runTransaction","transaction","get","favorito","set","filter","push","update","error"],"mappings":"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","file":"pages-prestador-prestador-consultar-prestador-consultar-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Consultar Prestador\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n  <ion-card>\\n\\n    <form [formGroup]=\\\"formulario\\\" (ngSubmit)=\\\"ConsultarPrestador()\\\">\\n      <ion-item (click)=\\\"abrirModalServicos()\\\" detail>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <ion-label>Serviço</ion-label>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\">\\n              <ion-note color=\\\"primary\\\">{{formulario.value.nomeServico}}</ion-note>\\n              <ion-note color=\\\"primary\\\" *ngIf=\\\"!formulario.value.nomeServico\\\">Todos</ion-note>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n\\n      <ion-item (click)=\\\"abrirModalUF()\\\" detail>\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <ion-label>UF<ion-text color=\\\"danger\\\">*</ion-text>\\n              </ion-label>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\">\\n              <ion-note color=\\\"primary\\\"> {{formulario.value.ufApresentacao}}</ion-note>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n\\n      <ion-item (click)=\\\"abrirModalCidade()\\\" detail [disabled]=\\\"!formulario.value.uf\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <ion-label>Cidade<ion-text color=\\\"danger\\\">*</ion-text>\\n              </ion-label>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\">\\n              <ion-note color=\\\"primary\\\"> {{formulario.value.cidade}}</ion-note>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n      <ion-item (click)=\\\"abrirModalIgreja()\\\" detail [disabled]=\\\"!formulario.value.cidade\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <ion-label>Igreja\\n              </ion-label>\\n            </ion-col>\\n            <ion-col size=\\\"12\\\">\\n              <ion-note color=\\\"primary\\\"> {{formulario.value.nomeIgreja}}</ion-note>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n\\n      <ion-button class=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\">Pesquisar</ion-button>\\n\\n    </form>\\n\\n  </ion-card>\\n\\n  <ion-card *ngFor=\\\"let item of prestadores\\\"  class=\\\"ion-no-border\\\">\\n    <ion-card-header>\\n\\n      <ion-card-title>\\n        <h3>{{item.nome}} </h3>\\n\\n\\n      </ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-item (click)=\\\"ligarTelefone(item.telefone)\\\">\\n      <ion-icon name=\\\"call-outline\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label color=\\\"primary\\\" class=\\\"ion-no-border\\\">\\n        <h2>{{item.telefone}}</h2>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item class=\\\"ion-no-border\\\">\\n      <ion-icon name=\\\"business-outline\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label class=\\\"ion-text-wrap on-no-border\\\">\\n        <h2>{{item.nomeIgreja}} </h2>\\n      </ion-label>\\n      <ion-note color=\\\"tertiary\\\" slot=\\\"end\\\" *ngIf=\\\"item.staMembro\\\">\\n        membro\\n      </ion-note>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon name=\\\"golf-outline\\\" slot=\\\"start\\\"></ion-icon>\\n      <ion-label class=\\\"ion-text-wrap on-no-border\\\">\\n        <h2>{{item.bairro}} - {{item.cidade}} / {{item.uf}}</h2>\\n      </ion-label>\\n    </ion-item>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\">\\n          <ion-button size=\\\"small\\\" (click)=\\\"detalhes(item.usuarioId)\\\">Detalhes</ion-button>\\n        </ion-col>\\n        <!-- <ion-col size=\\\"4\\\">\\n            <ion-button size=\\\"small\\\" (click)=\\\"compartilhar()\\\" >\\n              <ion-icon name=\\\"share-social\\\"></ion-icon></ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"4\\\">\\n\\n            <ion-button size=\\\"small\\\" (click)=\\\"adicionarFavorito(item.usuarioId)\\\" fill=\\\"outline\\\">\\n              <ion-icon name=\\\"star-outline\\\"></ion-icon></ion-button>\\n          </ion-col> -->\\n      </ion-row>\\n    </ion-grid>\\n    <!-- </ion-card-content> -->\\n  </ion-card>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PrestadorConsultarPage } from './prestador-consultar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PrestadorConsultarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PrestadorConsultarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PrestadorConsultarPageRoutingModule } from './prestador-consultar-routing.module';\n\nimport { PrestadorConsultarPage } from './prestador-consultar.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ComponentsModule,\n    IonicModule,\n    PrestadorConsultarPageRoutingModule\n  ],\n  declarations: [PrestadorConsultarPage]\n})\nexport class PrestadorConsultarPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ByZXN0YWRvci9wcmVzdGFkb3ItY29uc3VsdGFyL3ByZXN0YWRvci1jb25zdWx0YXIucGFnZS5zY3NzIn0= */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { PrestadorService } from 'src/app/providers/prestador/prestador.service';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { HandlerError } from 'src/app/helpers/handlerError';\nimport { ToastController, LoadingController, ModalController, IonContent } from '@ionic/angular';\nimport { IgrejaService } from 'src/app/providers/igreja/igreja.service';\nimport { UsuarioService } from 'src/app/providers/usuario/usuario.service';\nimport { LoadingContr } from 'src/app/helpers/loadingContr';\nimport { DominioServicoService } from 'src/app/providers/dominioServico/dominio-servico.service';\nimport { Router } from '@angular/router';\nimport { ToastCustom } from 'src/app/helpers/toastCustom';\nimport { ModalServicosPage } from '../../servico/modal-servicos/modal-servicos.page';\nimport { ModalBairroPage } from '../../bairro/modal-bairro/modal-bairro.page';\nimport { ModalCidadePage } from '../../cidade/modal-cidade/modal-cidade.page';\nimport { ModalUFPage } from '../../UF/modal-uf/modal-uf.page';\nimport { ModalIgrejaPage } from '../../igreja/modal-igreja/modal-igreja.page';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Constants } from 'src/app/utils/constants';\nimport { FavoritoService } from 'src/app/providers/favorito/favorito.service';\nimport { Config } from 'src/app/config';\nimport { VisualizarPrestadorPage } from '../visualizar-prestador/visualizar-prestador.page';\n@Component({\n    selector: 'app-prestador-consultar',\n    templateUrl: './prestador-consultar.page.html',\n    styleUrls: ['./prestador-consultar.page.scss'],\n})\nexport class PrestadorConsultarPage implements OnInit {\n    @ViewChild(IonContent) ionContent: IonContent;\n    UfList: any[];\n    cidadeList: any[];\n    servicos: any[];\n    formulario: FormGroup;\n    prestadores: any[];\n    validation_messages = {\n        'uf': [\n            { type: 'required', message: 'Campo de preenchimento obrigatório.' }\n        ],\n        'servicoId': [\n            { type: 'required', message: 'Campo de preenchimento obrigatório.' }\n        ]\n    };\n\n    constructor(public prestadorService: PrestadorService,\n        public toastCtrl: ToastController,\n        public igrejaService: IgrejaService,\n        public usuarioService: UsuarioService,\n        public loadingContr: LoadingContr,\n        public dominioServicoService: DominioServicoService,\n        public router: Router,\n        public modalCtrl: ModalController,\n        private callNumber: CallNumber,\n        private favoritoService: FavoritoService\n    ) {\n\n        this.formulario = new FormGroup({\n            'uf': new FormControl('', Validators.compose([\n                Validators.required\n            ])),\n            'cidade': new FormControl(),\n            'bairro': new FormControl(),\n            'nomeServico': new FormControl(),\n            'nomeIgreja': new FormControl(),\n            'igrejaId': new FormControl(),\n            'ufApresentacao': new FormControl(),\n        });\n        this.prestadores = [];\n    }\n\n    ngOnInit() {\n        this.loadingContr.showLoader();\n        \n        this.dominioServicoService.recuperaDominioServico()\n            .then(result => {\n                this.servicos = result;\n                this.loadingContr.hideLoader();\n            }).catch(x => {\n                this.loadingContr.hideLoader();\n                HandlerError.handler(x, this.toastCtrl);\n            });\n\n        this.prestadorService.RecuperaUfPrestadorDisponiveis()\n            .then(result => {\n                this.UfList = result.map(x=>{return Constants.ListagemUF.RecuperaObjetoPorUF(x)});\n                this.loadingContr.hideLoader();\n            }).catch(x => {\n                this.loadingContr.hideLoader();\n                HandlerError.handler(x, this.toastCtrl);\n            });\n    }\n\n    buscarCidades(uf:string) {\n        this.loadingContr.showLoader();\n        this.formulario.controls['cidade'].setValue(null);\n        this.cidadeList = [];\n        this.prestadorService.RecuperaCidadePrestadorDisponiveis(uf)\n            .then(result => {\n                this.cidadeList = result;\n                this.loadingContr.hideLoader();\n            }).catch(x => {\n                this.loadingContr.hideLoader();\n                HandlerError.handler(x, this.toastCtrl);\n            });\n    }\n\n    ConsultarPrestador() {\n        if (!this.formularioValido()) {\n            ToastCustom.CustomToast(this.toastCtrl, Constants.Mensagens.CamposObrigatorios, \"danger\", 4000);\n\n            return false;\n        }\n        this.prestadores = [];\n        this.loadingContr.showLoader();\n\n        this.prestadorService\n            .RecuperaPestadoresPesquisar(\n                this.formulario.value['uf']\n                , this.formulario.value['cidade']\n                , this.formulario.value['bairro']\n                , this.formulario.value['servicoId']\n                , this.formulario.value.igrejaId)\n            .then(prestadoresResult => {\n                if (!prestadoresResult || prestadoresResult.length == 0) {\n                    ToastCustom.CustomToast(this.toastCtrl, \"Nenhum prestador encontrado.\", \"danger\", 4000);\n                    this.loadingContr.hideLoader();\n                    return false;\n                }\n                let lstusuarioId = [];\n                lstusuarioId = prestadoresResult.map(x => { return x.usuarioId });\n                this.prestadores = prestadoresResult;\n\n                let lstIgrejaId = [];\n                lstIgrejaId = prestadoresResult.map(x => { return x.igrejaId });\n\n                this.consultaMasterPrestador(lstusuarioId, lstIgrejaId).then(() => {\n                    this.loadingContr.hideLoader();\n\n                }).catch(x => {\n                    HandlerError.handler(x, this.toastCtrl);\n                    this.loadingContr.hideLoader();\n                });\n\n            }).catch(x => {\n                HandlerError.handler(x, this.toastCtrl);\n                this.loadingContr.hideLoader();\n            });\n    }\n\n    private consultaMasterPrestador(lstusuarioId, lstIgrejaId): Promise<any> {\n        return new Promise<any>((result, reject) => {\n            // Recupera igreja \n            this.recuperaNomeIgreja(lstIgrejaId).then(() => { result() }).catch(err => { reject(err) });\n\n            // Recupera Nome \n            this.recuperaNomePrestadores(lstusuarioId).then(() => { result() }).catch(err => { reject(err) });\n\n            // Recupera Servicos\n            //this.recuperaServicosPorPrestadores(lstusuarioId);\n        });\n    }\n\n\n    private recuperaServicosPorPrestadores(lstusuarioId): Promise<any> {\n        return new Promise(() => {\n            this.prestadorService.recuperaServicosPorPrestadores(lstusuarioId)\n                .then(servicosPorPrestador => {\n                    this.prestadores.map(x => {\n                        x.servicos = servicosPorPrestador.find(y => { y.usuarioId == x.usuarioId });\n                    })\n                    this.loadingContr.hideLoader();\n\n                }).catch(x => {\n                    HandlerError.handler(x, this.toastCtrl);\n                    this.loadingContr.hideLoader();\n                });\n        });\n    }\n\n    private recuperaNomePrestadores(lstusuarioId): Promise<any> {\n        return new Promise((result, reject) => {\n            this.usuarioService.RecuperaNomeUsuarios(lstusuarioId)\n                .then(usuariosResult => {\n                    this.prestadores.map(x => {\n                        x.nome = usuariosResult.find(y => y.data.usuarioId == x.usuarioId).data.nome;\n                        x.email = usuariosResult.find(y => y.data.usuarioId == x.usuarioId).data.email;\n                    });\n\n                    this.ionContent.scrollToPoint(0, 350, 800);\n                    result();\n                }).catch(x => {\n\n                    HandlerError.handler(x, this.toastCtrl);\n                    this.loadingContr.hideLoader();\n                });\n        });\n    }\n\n    private recuperaNomeIgreja(lstIgrejaId): Promise<any> {\n        return new Promise((result, reject) => {\n\n            this.igrejaService.RecuperaNomeIgreja(lstIgrejaId)\n                .then(resultIgreja => {\n                    this.prestadores.map(x => {\n                        x.nomeIgreja = resultIgreja.find(y => y.data.id == x.igrejaId).data.nomeIgreja;\n                    });\n                    result()\n                }).catch(x => {\n                    reject(x)\n                    HandlerError.handler(x, this.toastCtrl);\n                    this.loadingContr.hideLoader();\n                });\n        });\n    }\n\n    public detalhes(usuarioId) {\n        const modal = this.modalCtrl.create({\n            component: VisualizarPrestadorPage,\n            componentProps: { usuarioId: usuarioId },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n               \n            });\n        });\n        // this.router.navigate(['/visualizar-prestador'], { queryParams: { usuarioId: usuarioId } });\n    }\n\n    public abrirModalServicos() {\n        const modal = this.modalCtrl.create({\n            component: ModalServicosPage,\n            componentProps: { servicos: this.servicos },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n\n                if (resultModal) {\n                    this.formulario.value.nomeServico = resultModal.data.nomeServico;\n                    this.formulario.value.servicoId = resultModal.data.servicoId;\n                }\n            });\n        });\n    }\n\n    public abrirModalUF() {\n        const modal = this.modalCtrl.create({\n            component: ModalUFPage,\n            componentProps: { UFs: this.UfList },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n                if (resultModal) {\n                    this.formulario.controls[\"ufApresentacao\"].setValue(resultModal.data.nome + \" / \" + resultModal.data.sigla);\n                    this.formulario.controls[\"uf\"].setValue(resultModal.data.sigla);\n                    this.formulario.controls[\"cidade\"].setValue(null);\n                    this.formulario.controls[\"bairro\"].setValue(null);\n                    this.formulario.controls[\"nomeIgreja\"].setValue(null);\n                    this.formulario.controls[\"igrejaId\"].setValue(null);\n                    this.buscarCidades(resultModal.data.sigla);\n                }\n            });\n        });\n    }\n\n    public abrirModalCidade() {\n        const modal = this.modalCtrl.create({\n            component: ModalCidadePage,\n            componentProps: { cidades:this.cidadeList },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n                if (resultModal) {\n                    this.formulario.value.cidade = resultModal.data;\n                    this.formulario.value.bairro = null;\n                    this.formulario.value.nomeIgreja = null;\n                    this.formulario.value.igrejaId = null;\n                }\n            });\n        });\n    }\n\n    public abrirModalBairro() {\n        const modal = this.modalCtrl.create({\n            component: ModalBairroPage,\n            componentProps: { uf: this.formulario.value.uf, cidade: this.formulario.value.cidade },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n                if (resultModal) {\n                    this.formulario.value.bairro = resultModal.data;\n                    this.formulario.value.nomeIgreja = null;\n                    this.formulario.value.igrejaId = null;\n                }\n            });\n        });\n    }\n    public abrirModalIgreja() {\n        const modal = this.modalCtrl.create({\n            component: ModalIgrejaPage,\n            componentProps: {\n                uf: this.formulario.value.uf,\n                cidade: this.formulario.value.cidade,\n                bairro: this.formulario.value.bairro\n            },\n            backdropDismiss: false,\n        }).then((modal) => {\n            modal.present();\n            modal.onWillDismiss().then(resultModal => {\n                if (resultModal) {\n                    this.formulario.value.nomeIgreja = resultModal.data.nomeIgreja;\n                    this.formulario.value.igrejaId = resultModal.data.id;\n                }\n            });\n        });\n    }\n\n    public abrirModalPrestadorDetalhes(usuarioId) {\n        \n    }\n    public formularioValido(): boolean {\n        return this.formulario.value.uf && this.formulario.value.cidade;\n    }\n\n    public ligarTelefone(telefone: any) {\n        this.callNumber.callNumber(telefone, true).then(() => {\n\n\n        }).catch(x => {\n            HandlerError.handler(x, this.toastCtrl);\n        });\n    }\n    public adicionarPrestadorFavorito(usuarioId: string) {\n        this.favoritoService.AdicionaPrestadorFavorito(usuarioId, Config.RecuperaInstancia().recuperaUsuario().usuarioId)\n            .then(() => { });\n    }\n\n    public removePrestadorFavorito(usuarioId: string) {\n        this.favoritoService.RemovePrestadorFavorito(usuarioId, Config.RecuperaInstancia().recuperaUsuario().usuarioId)\n            .then(() => { });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { FavoritoRepService } from 'src/app/repository/favorito/favorito-rep.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FavoritoService {\n  AdicionaPrestadorFavorito(prestadorUsuarioId: string, usuarioId: any):Promise<any> {\n     return  this.favoritoRepService.AdicionaPrestadorFavorito(prestadorUsuarioId,usuarioId);\n  }\n\n  RemovePrestadorFavorito(prestadorUsuarioId: string, usuarioId: any):Promise<any> {\n    return  this.favoritoRepService.RemovePrestadorFavorito(prestadorUsuarioId,usuarioId);\n\n  }\n  constructor(private favoritoRepService: FavoritoRepService) {\n\n\n\n   }\n}\n","import { Injectable } from '@angular/core';\nimport { BaseRepository } from '../repository-interface/Repository-Base';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FavoritoRepService extends BaseRepository {\n  AdicionaPrestadorFavorito(prestadorUsuarioId: string, usuarioId: any): Promise<any> {\n    let ref = this.db.collection(\"favorito\").doc(usuarioId)\n    let obj = [{prestadorUsuarioId : prestadorUsuarioId, usuarioId:usuarioId}];\n  \n    return new Promise<any>((retorno, reject) => {\n    this.db.runTransaction(transaction => {\n        // This code may get re-run multiple times if there are conflicts.\n        return transaction.get(ref).then(doc => {\n\n            let favorito = doc.data();\n            if (!favorito.prestadores) {\n              favorito.prestadores = [obj];\n                transaction.set(ref, favorito);\n            } else {\n                favorito.prestadores = favorito.prestadores.filter(y => { return y.prestadorUsuarioId != prestadorUsuarioId });\n                favorito.prestadores.push(obj);\n                transaction.update(ref, favorito);\n            }\n        });\n    }).then(function () {\n        retorno()\n    }).catch(function (error) {\n        reject(error)\n    });\n});\n}\n\nRemovePrestadorFavorito(prestadorUsuarioId: string, usuarioId: any): Promise<any> {\n  let ref = this.db.collection(\"favorito\").doc(usuarioId)\n  let obj = [{prestadorUsuarioId : prestadorUsuarioId, usuarioId:usuarioId}];\n\n  return new Promise<any>((retorno, reject) => {\n      this.db.runTransaction(transaction => {\n          // This code may get re-run multiple times if there are conflicts.\n          return transaction.get(ref).then(doc => {\n              let prestadores = []\n              prestadores = doc.data().prestadores;\n              prestadores = prestadores.filter(y => { return y.prestadorUsuarioId != prestadorUsuarioId });\n              transaction.update(ref, { prestadores: prestadores });\n          });\n      }).then(function () {\n          retorno()\n      }).catch(function (error) {\n          reject(error)\n      });\n  });\n}\n\n  constructor() { super(); }\n}\n"]}